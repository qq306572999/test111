<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸€çº¿åƒç“œç½‘</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="swiper.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- æ•´åˆæ‰€æœ‰æ ·å¼ï¼šè½®æ’­ + å°é›¨å®¢æœï¼ˆå«QQå¼å¤´åƒå¸ƒå±€ï¼‰ -->
    <style>
        /* åŸé¡µé¢è½®æ’­æ ·å¼ */
        .profile{
            position: relative; 
            overflow: hidden;
            border: 4px solid rgba(255,255,255,.3);
            border-radius: 10px;
        }
        .profile img{
            width: 100% !important;
            height: auto !important;
            display: block;
        }
        .profile .swiper-button-next,
        .profile .swiper-button-prev{
            color: #fff;
        }
        .swiper-button-next:after, 
        .swiper-button-prev:after{
            font-size: 20px;
        }
        .fgt{height: 20px;}
        .swiper{padding-bottom: 25px;}
        .main-link{
            width: 60%; 
            margin:10px auto;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            text-decoration: none;
        }
        .pr_wbnr h3{
            font-size: 12px; 
            line-height: 22px; 
            color: #333;
            text-align: left;
        }

        /* å°é›¨å®¢æœæ ·å¼ï¼šQQå¼èŠå¤©å¸ƒå±€ï¼ˆå¤´åƒ+æ°”æ³¡ï¼‰ */
        /* 1. è§¦å‘æŒ‰é’® */
        .service-trigger-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background: #0084ff;
            border-radius: 50%;
            box-shadow: 0 4px 12px rgba(0,132,255,0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            font-size: 24px;
            cursor: pointer;
            z-index: 9998;
            transition: all 0.3s;
        }
        .service-trigger-btn:hover {
            transform: scale(1.1);
            background: #0073e6;
        }

        /* 2. å®¢æœå¼¹çª— */
        .service-popup {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 380px;
            border: 1px solid #eee;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            background: #fff;
            overflow: hidden;
            font-family: "Microsoft YaHei", sans-serif;
            display: none;
            z-index: 9999;
            flex-direction: column;
        }

        /* 3. å¼¹çª—å¤´éƒ¨ */
        .popup-header {
            padding: 12px 16px;
            background: #f5f5f5;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .header-left {
            display: flex;
            align-items: center;
        }
        .service-name {
            font-weight: 600;
            color: #333;
            margin-right: 8px;
            font-size: 15px;
        }
        .online-status {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #4cd964;
            margin-right: 4px;
            animation: blink 1.5s infinite;
        }
        .status-text {
            font-size: 12px;
            color: #666;
        }
        .popup-close {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: #999;
            transition: all 0.2s;
        }
        .popup-close:hover {
            background: #f0f0f0;
            color: #333;
        }

        /* 4. èŠå¤©æ¶ˆæ¯åŒºåŸŸï¼šæ ¸å¿ƒQQå¼å¸ƒå±€ */
        .message-container {
            height: 400px;
            padding: 16px;
            overflow-y: auto;
            background: #fafafa;
            flex: 1;
        }
        /* æ¶ˆæ¯è¡Œå®¹å™¨ï¼šå¤´åƒ+æ°”æ³¡ */
        .message-row {
            margin-bottom: 16px;
            display: flex; /* æ¨ªå‘æ’åˆ—ï¼šå¤´åƒ+æ°”æ³¡ */
            clear: both;
        }
        /* å®¢æœæ¶ˆæ¯ï¼šå¤´åƒå±…å·¦ï¼Œæ°”æ³¡åœ¨å³ */
        .service-message-row {
            align-items: flex-start; /* æ°”æ³¡é¡¶éƒ¨ä¸å¤´åƒé¡¶éƒ¨å¯¹é½ */
        }
        /* ç”¨æˆ·æ¶ˆæ¯ï¼šå¤´åƒå±…å³ï¼Œæ°”æ³¡åœ¨å·¦ï¼ˆå¦‚éœ€ç”¨æˆ·å¤´åƒå¯å¯ç”¨ï¼‰ */
        .user-message-row {
            flex-direction: row-reverse; /* åè½¬é¡ºåºï¼šæ°”æ³¡å·¦ï¼Œå¤´åƒå³ */
            align-items: flex-start;
        }

        /* å°é›¨å¤´åƒæ ·å¼ï¼ˆb1.pngï¼‰ */
        .service-avatar-img {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            object-fit: cover;
            margin-right: 8px; /* å¤´åƒä¸æ°”æ³¡é—´è· */
            border: 1px solid #eee;
        }
        /* ç”¨æˆ·å¤´åƒï¼ˆå¦‚éœ€å¯å¯ç”¨ï¼‰ */
        .user-avatar-img {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            object-fit: cover;
            margin-left: 8px;
            border: 1px solid #eee;
            display: none; /* æš‚ä¸æ˜¾ç¤ºç”¨æˆ·å¤´åƒï¼Œå¦‚éœ€æ˜¾ç¤ºæ”¹ä¸ºblock */
        }

        /* æ¶ˆæ¯æ°”æ³¡æ ·å¼ */
        .message-bubble {
            max-width: 75%; /* æ°”æ³¡æœ€å¤§å®½åº¦ï¼Œé¿å…è¿‡å®½ */
            padding: 10px 14px;
            border-radius: 18px;
            line-height: 1.5;
            font-size: 14px;
            position: relative;
        }
        /* å®¢æœæ°”æ³¡ï¼šæµ…è“è‰²èƒŒæ™¯ï¼Œå·¦ä¾§å°ä¸‰è§’ */
        .service-bubble {
            background: #e5f3ff;
            color: #333;
            border-top-left-radius: 4px; /* å·¦ä¸Šè§’åœ†è§’å‡å°ï¼Œæ›´åƒQQ */
        }
        /* å®¢æœæ°”æ³¡å·¦ä¾§å°ä¸‰è§’ï¼ˆä¼ªå…ƒç´ ï¼‰ */
        .service-bubble::before {
            content: '';
            position: absolute;
            left: -6px; /* æ°”æ³¡å·¦ä¾§å¤–éƒ¨ */
            top: 10px; /* ä¸‰è§’å‚ç›´ä½ç½® */
            width: 0;
            height: 0;
            border-top: 6px solid transparent;
            border-bottom: 6px solid transparent;
            border-right: 6px solid #e5f3ff; /* ä¸æ°”æ³¡èƒŒæ™¯åŒè‰² */
        }

        /* ç”¨æˆ·æ°”æ³¡ï¼šè“è‰²èƒŒæ™¯ï¼Œå³ä¾§å°ä¸‰è§’ */
        .user-bubble {
            background: #0084ff;
            color: #fff;
            border-top-right-radius: 4px;
        }
        /* ç”¨æˆ·æ°”æ³¡å³ä¾§å°ä¸‰è§’ */
        .user-bubble::before {
            content: '';
            position: absolute;
            right: -6px;
            top: 10px;
            width: 0;
            height: 0;
            border-top: 6px solid transparent;
            border-bottom: 6px solid transparent;
            border-left: 6px solid #0084ff;
        }

        /* 5. ç”¨æˆ·ä¸Šä¼ å›¾ç‰‡é¢„è§ˆ */
        .user-images {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 8px;
            max-width: 75%;
            margin-left: auto; /* è·Ÿéšç”¨æˆ·æ¶ˆæ¯å³å¯¹é½ */
        }
        .user-images img {
            width: 50px;
            height: 50px;
            object-fit: cover;
            border-radius: 4px;
            border: 1px solid #eee;
        }

        /* 6. åº•éƒ¨ä¸Šä¼ åŒºåŸŸ */
        .input-area {
            padding: 12px 16px;
            border-top: 1px solid #eee;
            background: #fff;
        }
        .img-upload {
            display: inline-block;
            padding: 8px 16px;
            background: #0084ff;
            color: #fff;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.2s;
        }
        .img-upload:hover {
            background: #0073e6;
        }
        #img-input {
            display: none;
        }
        .upload-tip {
            font-size: 12px;
            color: #999;
            margin-top: 8px;
            text-align: center;
        }
        .warning-tip {
            font-size: 12px;
            color: #ff4d4f;
            margin-top: 4px;
            text-align: center;
            display: none;
        }

        /* åœ¨çº¿çŠ¶æ€é—ªçƒåŠ¨ç”» */
        @keyframes blink {
            0%,100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- èƒŒæ™¯åŠ¨ç”» -->
        <div class="background-animation">
            <div class="floating-shape shape-1"></div>
            <div class="floating-shape shape-2"></div>
            <div class="floating-shape shape-3"></div>
            <div class="floating-shape"></div>
            <div class="floating-shape"></div>
        </div>

        <!-- ä¸»è¦å†…å®¹ -->
        <main class="profile-container">
            <div class="shimmer-line"></div>
            
            <!-- ä¸ªäººä¿¡æ¯åŒºåŸŸ -->
            <section class="profile-header">
                <div class="avatar-container">
                    <img src="Tx.jpg" alt="å¤´åƒ" class="avatar" id="avatarImg">
                    <div class="avatar-border"></div>
                    <div class="decoration-dot"></div>
                    <div class="decoration-dot"></div>
                    <div class="decoration-dot"></div>
                    <div class="decoration-dot"></div>
                    <div class="admin-secret-entry" id="adminSecretEntry">
                        <i class="fas fa-cog"></i>
                    </div>
                </div>
                
                <h1 class="profile-name" id="profileName">www.636.icu</h1>
                <p class="profile-bio" id="profileBio" style="font-size: 28px; color: #fff;">ä¸€çº¿åƒç“œç½‘</p>

                <!-- ç¬¬ä¸€ç»„è½®æ’­ï¼ˆa1-a5ï¼‰ -->
                <div class="profile">
                    <div class="swiper mySwiper" id="swiperGroup1">
                        <div class="swiper-wrapper">
                            <div class="swiper-slide"><img src="a1.png" style="width: 100%;" alt="ç¬¬ä¸€ç»„å›¾1"/></div>
                            <div class="swiper-slide"><img src="a2.png" style="width: 100%;" alt="ç¬¬ä¸€ç»„å›¾2"/></div>
                            <div class="swiper-slide"><img src="a3.png" style="width: 100%;" alt="ç¬¬ä¸€ç»„å›¾3"/></div>
                            <div class="swiper-slide"><img src="a4.png" style="width: 100%;" alt="ç¬¬ä¸€ç»„å›¾4"/></div>
                            <div class="swiper-slide"><img src="a5.png" style="width: 100%;" alt="ç¬¬ä¸€ç»„å›¾5"/></div>
                        </div>
                        <div class="swiper-button-next"></div>
                        <div class="swiper-button-prev"></div>
                        <div class="swiper-pagination"></div>
                        <a href="https://f.wps.cn/g/mVSCm5ZJ/" class="main-link gradient-1" data-analytics="å®˜ç½‘">
                            <span class="watermelon-icon">ğŸ‰</span>
                            <span>çƒ­é—¨åƒç“œ</span>
                            <b>è·å–<br />èµ„æº</b> 
                            <i class="fas fa-arrow-right arrow"></i>
                        </a>
                    </div>
                </div>
                <div class="fgt"></div>

                <!-- ç¬¬äºŒç»„è½®æ’­ï¼ˆa6-a10ï¼‰ -->
                <div class="profile">
                    <div class="swiper mySwiper" id="swiperGroup2">
                        <div class="swiper-wrapper">
                            <div class="swiper-slide"><img src="a6.png" style="width: 100%;" alt="ç¬¬äºŒç»„å›¾1"/></div>
                            <div class="swiper-slide"><img src="a7.png" style="width: 100%;" alt="ç¬¬äºŒç»„å›¾2"/></div>
                            <div class="swiper-slide"><img src="a8.png" style="width: 100%;" alt="ç¬¬äºŒç»„å›¾3"/></div>
                            <div class="swiper-slide"><img src="a9.png" style="width: 100%;" alt="ç¬¬äºŒç»„å›¾4"/></div>
                            <div class="swiper-slide"><img src="a10.png" style="width: 100%;" alt="ç¬¬äºŒç»„å›¾5"/></div>
                        </div>
                        <a href="https://f.wps.cn/g/mVSCm5ZJ/" class="main-link gradient-2" data-analytics="ä½œå“é›†">
                            <i class="fas fa-cloud"></i>
                            <span>åå·®å¥³ç¥</span>
                            <b>è·å–<br />èµ„æº</b> 
                            <i class="fas fa-arrow-right arrow"></i>
                        </a>
                        <div class="swiper-button-next"></div>
                        <div class="swiper-button-prev"></div>
                        <div class="swiper-pagination"></div>
                    </div>
                </div>
                <div class="fgt"></div>

                <!-- ç¬¬ä¸‰ç»„è½®æ’­ï¼ˆa11-a15ï¼‰ -->
                <div class="profile">
                    <div class="swiper mySwiper" id="swiperGroup3">
                        <div class="swiper-wrapper">
                            <div class="swiper-slide"><img src="a11.png" style="width: 100%;" alt="ç¬¬ä¸‰ç»„å›¾1"/></div>
                            <div class="swiper-slide"><img src="a12.png" style="width: 100%;" alt="ç¬¬ä¸‰ç»„å›¾2"/></div>
                            <div class="swiper-slide"><img src="a13.png" style="width: 100%;" alt="ç¬¬ä¸‰ç»„å›¾3"/></div>
                            <div class="swiper-slide"><img src="a14.png" style="width: 100%;" alt="ç¬¬ä¸‰ç»„å›¾4"/></div>
                            <div class="swiper-slide"><img src="a15.png" style="width: 100%;" alt="ç¬¬ä¸‰ç»„å›¾5"/></div>
                        </div>
                        <a href="https://f.wps.cn/g/mVSCm5ZJ/" class="main-link gradient-3" data-analytics="åšå®¢">
                            <span class="penguin-icon">ğŸ§­</span>
                            <span>silk/å¥³æ€§å‘</span>
                            <b>è·å–<br />èµ„æº</b> 
                            <i class="fas fa-arrow-right arrow"></i>
                        </a>
                        <div class="swiper-button-next"></div>
                        <div class="swiper-button-prev"></div>
                        <div class="swiper-pagination"></div>
                    </div>
                </div>
                <div class="fgt"></div>

                <!-- ç¬¬å››ç»„è½®æ’­ï¼ˆa16-a20ï¼‰ -->
                <div class="profile">
                    <div class="swiper mySwiper" id="swiperGroup4">
                        <div class="swiper-wrapper">
                            <div class="swiper-slide"><img src="a16.png" style="width: 100%;" alt="ç¬¬å››ç»„å›¾1"/></div>
                            <div class="swiper-slide"><img src="a17.png" style="width: 100%;" alt="ç¬¬å››ç»„å›¾2"/></div>
                            <div class="swiper-slide"><img src="a18.png" style="width: 100%;" alt="ç¬¬å››ç»„å›¾3"/></div>
                            <div class="swiper-slide"><img src="a19.png" style="width: 100%;" alt="ç¬¬å››ç»„å›¾4"/></div>
                            <div class="swiper-slide"><img src="a20.png" style="width: 100%;" alt="ç¬¬å››ç»„å›¾5"/></div>
                        </div>
                        <a href="https://f.wps.cn/g/mVSCm5ZJ/" class="main-link gradient-4" data-analytics="å¾€æœŸ">
                            <i class="fas fa-history"></i>
                            <span>ç»…å£«æ¸¸æˆ</span>
                            <b>è·å–<br />èµ„æº</b> 
                            <i class="fas fa-arrow-right arrow"></i>
                        </a>
                        <div class="swiper-button-next"></div>
                        <div class="swiper-button-prev"></div>
                        <div class="swiper-pagination"></div>
                    </div>
                </div>
            </section>

            <!-- äºŒç»´ç åŒºåŸŸ -->
            <section class="qr-section">
                <div class="qr-container">
                    <p class="qr-text">ä¸€çº¿åƒç“œç½‘</p>
                    <div class="pr_wbnr">
                        <h3 style="overflow: hidden; text-overflow:ellipsis; white-space: nowrap;">ä¸€çº¿åƒç“œç½‘æ”»å…‹å„ç§èµ„æºéš¾é¢˜ï¼Œå¸¦æ¥æœ€æ–°æœ€å¿«æœ€å…¨çš„åƒç“œé»‘æ–™å•Šå•Šå•Šå•Š</h3>	
                        <h3 style="overflow: hidden; text-overflow:ellipsis; white-space: nowrap;">æ˜æ˜Ÿã€ç½‘çº¢ã€å¥³ç¥ã€æ ¡å›­â€¦â€¦â€¦â€¦</h3>	
                        <h3 style="overflow: hidden; text-overflow:ellipsis; white-space: nowrap;">è®©æ‚¨ä¸é”™è¿‡ä»»ä½•ä¸€ä¸ªçƒ­é—¨å¤§ç“œ</h3>	
                        <p style="text-align: right; color: #ff0000;font-weight: bold; font-size: 12px; margin-top: 10px;">éæ³•å¾‹å…è®¸åœ°åŒºä»¥åŠ18å²ä»¥ä¸‹ç”¨æˆ·ç¦æ­¢è®¿é—®ï¼</p>
                    </div>
                </div>
            </section>
        </main>

        <!-- åº•éƒ¨å·¥å…·æ  -->
        <footer class="toolbar" style="z-index: 100;">
            <button class="tool-btn" id="shareBtn">
                <i class="fas fa-share-alt"></i>
                <span>åˆ†äº«</span>
            </button>
        </footer>

        <!-- åˆ†äº«æ¨¡æ€æ¡† -->
        <div class="modal" id="shareModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>åˆ†äº«æˆ‘çš„é“¾æ¥</h3>
                    <button class="close-btn" id="closeShareModal">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="share-content">
                    <div class="share-url">
                        <input type="text" id="shareUrl" value="" readonly>
                        <button class="copy-btn" id="copyUrlBtn">
                            <i class="fas fa-copy"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 1. å°é›¨å®¢æœè§¦å‘æŒ‰é’® -->
    <div class="service-trigger-btn" id="serviceTriggerBtn">
        <i class="fas fa-comments"></i>
    </div>

    <!-- 2. å°é›¨å®¢æœå¼¹çª—ï¼ˆå«å¤´åƒçš„QQå¼èŠå¤©ï¼‰ -->
    <div class="service-popup" id="servicePopup">
        <!-- å¼¹çª—å¤´éƒ¨ -->
        <div class="popup-header">
            <div class="header-left">
                <div class="service-name">å°é›¨</div>
                <div class="online-status"></div>
                <div class="status-text">åœ¨çº¿ä¸­</div>
            </div>
            <div class="popup-close" id="popupClose">
                <i class="fas fa-times"></i>
            </div>
        </div>

        <!-- æ¶ˆæ¯åŒºåŸŸï¼šåˆå§‹æ˜¾ç¤ºå°é›¨çš„å¯¹è¯ï¼ˆå¸¦b1.pngå¤´åƒï¼‰ -->
        <div class="message-container" id="messageContainer">
            <!-- å°é›¨çš„æ¶ˆæ¯è¡Œï¼šå¤´åƒï¼ˆb1.pngï¼‰+ æ°”æ³¡ -->
            <div class="message-row service-message-row">
                <!-- å°é›¨å¤´åƒï¼šb1.pngï¼ˆä¸a1-a20åŒç›®å½•ï¼‰ -->
                <img src="b1.png" alt="å°é›¨å¤´åƒ" class="service-avatar-img">
                <!-- æ¶ˆæ¯æ°”æ³¡ -->
                <div class="message-bubble service-bubble">
                    è¯·å°†è¯„è®ºçš„è§„èŒƒæˆªå›¾éƒ½å‘é€ç»™æˆ‘ï¼Œå®¡æ ¸é€šè¿‡åæˆ‘ä¼šå‘é€æ‰€æœ‰èµ„æºçš„è·³è½¬é¡µé“¾æ¥~<br>
                    æ³¨æ„ï¼šä¸è§„èŒƒæˆªå›¾å’Œå‘é€é‡å¤çš„æˆªå›¾å°†é‡ç½®è¿›åº¦ï¼Œæ‰€ä»¥æ˜¯ä¸€å®šä¸èƒ½æŠ•æœºå–å·§çš„å“¦ã€‚
                </div>
            </div>
        </div>

        <!-- ä¸Šä¼ åŒºåŸŸ -->
        <div class="input-area">
            <label for="img-input" class="img-upload">
                <i class="fas fa-upload"></i> é€‰æ‹©æˆªå›¾ï¼ˆéœ€4å¼ ï¼‰
            </label>
            <input type="file" id="img-input" accept="image/jpg,image/png,image/jpeg" multiple>
            <div class="upload-tip" id="uploadTip">å·²é€‰æ‹©ï¼š0/4å¼ </div>
            <div class="warning-tip" id="warningTip">âš ï¸ ä¸è§„èŒƒ/é‡å¤æˆªå›¾ï¼Œè¿›åº¦å·²é‡ç½®ï¼</div>
        </div>
    </div>

    <!-- å¤–éƒ¨è„šæœ¬å¼•å…¥ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script>
    <script src="swiper.min.js"></script>
    <script src="simple-script.js"></script>

    <!-- è½®æ’­åˆå§‹åŒ–è„šæœ¬ -->
    <script>
        // ç¬¬ä¸€ç»„
        var swiper1 = new Swiper("#swiperGroup1", {
            spaceBetween: 0,
            centeredSlides: true,
            loop:true,
            autoplay: {delay: 2500, disableOnInteraction: false},
            pagination: {el: "#swiperGroup1 .swiper-pagination", clickable: true},
            navigation: {nextEl: "#swiperGroup1 .swiper-button-next", prevEl: "#swiperGroup1 .swiper-button-prev"},
        });

        // ç¬¬äºŒç»„
        var swiper2 = new Swiper("#swiperGroup2", {
            spaceBetween: 0,
            centeredSlides: true,
            loop:true,
            autoplay: {delay: 3000, disableOnInteraction: false},
            pagination: {el: "#swiperGroup2 .swiper-pagination", clickable: true},
            navigation: {nextEl: "#swiperGroup2 .swiper-button-next", prevEl: "#swiperGroup2 .swiper-button-prev"},
        });

        // ç¬¬ä¸‰ç»„
        var swiper3 = new Swiper("#swiperGroup3", {
            spaceBetween: 0,
            centeredSlides: true,
            loop:true,
            autoplay: {delay: 3500, disableOnInteraction: false},
            pagination: {el: "#swiperGroup3 .swiper-pagination", clickable: true},
            navigation: {nextEl: "#swiperGroup3 .swiper-button-next", prevEl: "#swiperGroup3 .swiper-button-prev"},
        });

        // ç¬¬å››ç»„
        var swiper4 = new Swiper("#swiperGroup4", {
            spaceBetween: 0,
            centeredSlides: true,
            loop:true,
            autoplay: {delay: 4000, disableOnInteraction: false},
            pagination: {el: "#swiperGroup4 .swiper-pagination", clickable: true},
            navigation: {nextEl: "#swiperGroup4 .swiper-button-next", prevEl: "#swiperGroup4 .swiper-button-prev"},
        });
    </script>

    <!-- 3. å°é›¨å®¢æœæ ¸å¿ƒé€»è¾‘ï¼ˆå«å¤´åƒæ¶ˆæ¯æ¸²æŸ“ï¼‰ -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // DOMå…ƒç´ è·å–
            const triggerBtn = document.getElementById('serviceTriggerBtn');
            const servicePopup = document.getElementById('servicePopup');
            const popupClose = document.getElementById('popupClose');
            const messageContainer = document.getElementById('messageContainer');
            const imgInput = document.getElementById('img-input');
            const uploadTip = document.getElementById('uploadTip');
            const warningTip = document.getElementById('warningTip');

            // çŠ¶æ€ç®¡ç†
            let uploadedKeys = []; // å­˜å‚¨â€œæ–‡ä»¶å+å¤§å°â€é˜²é‡å¤
            let currentCount = 0;
            const needCount = 4; // éœ€ä¸Šä¼ 4å¼ å›¾

            // 1. å¼¹çª—æ˜¾ç¤º/éšè—
            triggerBtn.addEventListener('click', () => {
                servicePopup.style.display = 'flex';
                triggerBtn.style.display = 'none';
                messageContainer.scrollTop = messageContainer.scrollHeight;
            });

            popupClose.addEventListener('click', () => {
                servicePopup.style.display = 'none';
                triggerBtn.style.display = 'flex';
            });

            // 2. æˆªå›¾ä¸Šä¼ å¤„ç†
            imgInput.addEventListener('change', (e) => {
                const selectedFiles = Array.from(e.target.files);
                if (selectedFiles.length === 0) return;

                // æ£€æµ‹å‰©ä½™å¯ä¸Šä¼ æ•°é‡
                const remaining = needCount - currentCount;
                if (selectedFiles.length > remaining) {
                    showWarning(`æœ€å¤šåªèƒ½ä¸Šä¼ ${remaining}å¼ ï¼ˆéœ€å…±ä¼ 4å¼ ï¼‰`);
                    resetProgress();
                    return;
                }

                // æ£€æµ‹é‡å¤æˆªå›¾
                const hasDuplicate = selectedFiles.some(file => {
                    const key = `${file.name}-${file.size}`;
                    return uploadedKeys.includes(key);
                });

                // æ£€æµ‹ä¸è§„èŒƒæˆªå›¾ï¼ˆéå›¾ç‰‡/å°äº10KBï¼‰
                const validTypes = ['image/jpeg', 'image/png', 'image/jpg'];
                const hasInvalid = selectedFiles.some(file => {
                    return !validTypes.includes(file.type) || file.size < 10240;
                });

                // è¿è§„å¤„ç†
                if (hasDuplicate || hasInvalid) {
                    const tip = hasDuplicate ? 'é‡å¤æˆªå›¾' : 'ä¸è§„èŒƒæˆªå›¾ï¼ˆéå›¾ç‰‡/è¿‡å°ï¼‰';
                    showWarning(tip);
                    resetProgress();
                    return;
                }

                // åˆè§„å¤„ç†ï¼šæ›´æ–°è¿›åº¦+æ˜¾ç¤ºç”¨æˆ·æˆªå›¾
                hideWarning();
                selectedFiles.forEach(file => {
                    uploadedKeys.push(`${file.name}-${file.size}`);
                });
                currentCount += selectedFiles.length;
                uploadTip.textContent = `å·²é€‰æ‹©ï¼š${currentCount}/${needCount}å¼ `;

                // æ˜¾ç¤ºç”¨æˆ·ä¸Šä¼ çš„æˆªå›¾ï¼ˆç”¨æˆ·æ¶ˆæ¯è¡Œï¼Œæ— å¤´åƒï¼‰
                showUserImages(selectedFiles);

                // ä¸Šä¼ æ»¡4å¼ ï¼šè§¦å‘å°é›¨çš„å›å¤ï¼ˆå¸¦å¤´åƒï¼‰
                if (currentCount === needCount) {
                    setTimeout(() => {
                        showServiceReply(`
                            âœ… å®å­æ­å–œä½ è·å¾—èµ„æºï¼ˆä¸€å…±æœ‰3ä¸ªè·å–å…¥å£ï¼Œå¦‚æœå…¶ä¸­ä¸€ä¸ªå’Œè°æˆ–è€…æ²¡æœ‰æƒ³çœ‹çš„å°±æ¢ä¸€ä¸ªæ¸ é“ï¼‰
                            é€Ÿåº¦ä¿å­˜åˆ°è‡ªå·±ç½‘ç›˜ï¼Œå› ä¸ºé“¾æ¥éšæ—¶å¤±æ•ˆï¼Œ3ä¸ªæ¸ é“å»ºè®®å…¨éƒ¨ä¿å­˜åˆ°è‡ªå·±çš„ç½‘ç›˜ï¼Œå› ä¸ºæ¯ä¸ªç½‘ç›˜çš„èµ„æºéƒ½ä¸ä¸€æ ·ã€‚
                            <br><br>
                            1. <a href="https://f.wps.cn/g/mVSCm5ZJ/" target="_blank" style="color:#0084ff; text-decoration:underline;">çƒ­é—¨åƒç“œå…¥å£</a><br>
                            2. <a href="https://f.wps.cn/g/mVSCm5ZJ/" target="_blank" style="color:#0084ff; text-decoration:underline;">åå·®å¥³ç¥å…¥å£</a><br>
                            3. <a href="https://f.wps.cn/g/mVSCm5ZJ/" target="_blank" style="color:#0084ff; text-decoration:underline;">ç»…å£«æ¸¸æˆå…¥å£</a>
                        `);
                        // 5ç§’åé‡ç½®è¿›åº¦
                        setTimeout(resetProgress, 5000);
                    }, 1500);
                }

                imgInput.value = '';
            });

            // è¾…åŠ©å‡½æ•°ï¼šæ˜¾ç¤ºç”¨æˆ·ä¸Šä¼ çš„å›¾ç‰‡
            function showUserImages(files) {
                // ç”¨æˆ·æ¶ˆæ¯è¡Œï¼ˆæ— å¤´åƒï¼‰
                const userRow = document.createElement('div');
                userRow.className = 'message-row user-message-row';

                // ç”¨æˆ·æ¶ˆæ¯æ°”æ³¡ï¼ˆæ˜¾ç¤ºâ€œæˆ‘ä¸Šä¼ äº†Xå¼ æˆªå›¾â€ï¼‰
                const userBubble = document.createElement('div');
                userBubble.className = 'message-bubble user-bubble';
                userBubble.textContent = `æˆ‘ä¸Šä¼ äº†${files.length}å¼ æˆªå›¾ï¼š`;

                // å›¾ç‰‡é¢„è§ˆå®¹å™¨
                const imgContainer = document.createElement('div');
                imgContainer.className = 'user-images';
                files.forEach(file => {
                    const img = document.createElement('img');
                    img.src = URL.createObjectURL(file);
                    img.alt = `ç”¨æˆ·æˆªå›¾${currentCount - files.length + 1}`;
                    imgContainer.appendChild(img);
                });

                // ç»„è£…ç”¨æˆ·æ¶ˆæ¯è¡Œï¼šæ°”æ³¡ + å›¾ç‰‡
                userRow.appendChild(userBubble);
                messageContainer.appendChild(userRow);
                messageContainer.appendChild(imgContainer);
                messageContainer.scrollTop = messageContainer.scrollHeight;
            }

            // è¾…åŠ©å‡½æ•°ï¼šæ˜¾ç¤ºå°é›¨çš„å›å¤ï¼ˆå¸¦b1.pngå¤´åƒï¼‰
            function showServiceReply(content) {
                // å°é›¨æ¶ˆæ¯è¡Œï¼šå¤´åƒ + æ°”æ³¡
                const serviceRow = document.createElement('div');
                serviceRow.className = 'message-row service-message-row';

                // å°é›¨å¤´åƒï¼ˆb1.pngï¼‰
                const serviceAvatar = document.createElement('img');
                serviceAvatar.src = 'b1.png';
                serviceAvatar.alt = 'å°é›¨å¤´åƒ';
                serviceAvatar.className = 'service-avatar-img';

                // å°é›¨æ¶ˆæ¯æ°”æ³¡
                const serviceBubble = document.createElement('div');
                serviceBubble.className = 'message-bubble service-bubble';
                serviceBubble.innerHTML = content; // æ”¯æŒHTMLï¼ˆå¦‚é“¾æ¥ï¼‰

                // ç»„è£…æ¶ˆæ¯è¡Œå¹¶æ·»åŠ åˆ°å®¹å™¨
                serviceRow.appendChild(serviceAvatar);
                serviceRow.appendChild(serviceBubble);
                messageContainer.appendChild(serviceRow);
                messageContainer.scrollTop = messageContainer.scrollHeight;
            }

            // è¾…åŠ©å‡½æ•°ï¼šæ˜¾ç¤º/éšè—è­¦å‘Š
            function showWarning(text) {
                warningTip.textContent = `âš ï¸ ${text}ï¼Œè¿›åº¦å·²é‡ç½®ï¼`;
                warningTip.style.display = 'block';
                setTimeout(hideWarning, 3000);
            }

            function hideWarning() {
                warningTip.style.display = 'none';
            }

            // è¾…åŠ©å‡½æ•°ï¼šé‡ç½®è¿›åº¦
            function resetProgress() {
                uploadedKeys = [];
                currentCount = 0;
                uploadTip.textContent = `å·²é€‰æ‹©ï¼š0/${needCount}å¼ `;
                imgInput.value = '';
            }

            // åˆ†äº«æ¨¡æ€æ¡†é€»è¾‘
            const shareBtn = document.getElementById('shareBtn');
            const shareModal = document.getElementById('shareModal');
            const closeShareModal = document.getElementById('closeShareModal');
            const shareUrl = document.getElementById('shareUrl');
            const copyUrlBtn = document.getElementById('copyUrlBtn');

            // å¡«å……é»˜è®¤åˆ†äº«é“¾æ¥
            shareUrl.value = window.location.origin || 'https://www.636.icu';

            shareBtn.addEventListener('click', () => shareModal.style.display = 'block');
            closeShareModal.addEventListener('click', () => shareModal.style.display = 'none');
            window.addEventListener('click', (e) => e.target === shareModal && (shareModal.style.display = 'none'));

            // å¤åˆ¶é“¾æ¥åé¦ˆ
            copyUrlBtn.addEventListener('click', () => {
                shareUrl.select();
                document.execCommand('copy');
                copyUrlBtn.innerHTML = '<i class="fas fa-check"></i>';
                setTimeout(() => copyUrlBtn.innerHTML = '<i class="fas fa-copy"></i>', 1500);
            });
        });
    </script>
</body>
</html>